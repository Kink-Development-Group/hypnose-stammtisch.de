@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties f√ºr Design Tokens */
:root {
  /* Colors */
  --color-primary: #3c2a89;
  --color-accent: #41f2c0;
  --color-secondary: #c22064;
  --color-charcoal: #111418;
  --color-smoke: #f4f6f8;
  --color-consent: #27ae60;
  --color-caution: #f4b400;
  --color-boundaries: #d93025;

  /* Gradients */
  --gradient-spiral: radial-gradient(
    circle at center,
    var(--color-primary) 0%,
    transparent 60%
  );

  /* Transitions */
  --transition-fast: 0.15s ease-out;
  --transition-base: 0.3s ease-out;
  --transition-slow: 0.5s ease-out;

  /* Shadows */
  --shadow-glow: 0 0 20px rgba(65, 242, 192, 0.3);
  --shadow-soft: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  --shadow-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-smoke: #111418;
    --color-charcoal: #f4f6f8;
  }
}

/* Base Layer */
@layer base {
  html {
    scroll-behavior: smooth;
    font-feature-settings:
      "kern" 1,
      "liga" 1,
      "calt" 1;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  body {
    @apply bg-charcoal-900 text-smoke-50 font-sans antialiased;
    font-feature-settings:
      "kern" 1,
      "liga" 1,
      "calt" 1;
  }

  /* Focus-visible styles */
  :focus-visible {
    @apply outline-none ring-2 ring-accent-400 ring-offset-2 ring-offset-charcoal-900;
  }

  /* Skip link */
  .skip-link {
    @apply absolute -top-10 left-4 z-50 bg-accent-400 text-charcoal-900 px-4 py-2 rounded-md font-medium;
    @apply focus:top-4 transition-all duration-300;
  }

  /* Heading hierarchy */
  h1 {
    @apply text-4xl md:text-5xl lg:text-6xl font-display font-bold text-smoke-50;
  }

  h2 {
    @apply text-2xl md:text-3xl lg:text-4xl font-display font-semibold text-smoke-50;
  }

  h3 {
    @apply text-xl md:text-2xl font-display font-semibold text-smoke-100;
  }

  h4 {
    @apply text-lg md:text-xl font-ui font-semibold text-smoke-100;
  }

  h5 {
    @apply text-base md:text-lg font-ui font-medium text-smoke-200;
  }

  h6 {
    @apply text-sm md:text-base font-ui font-medium text-smoke-300;
  }

  /* Links */
  a {
    @apply text-accent-400 hover:text-accent-300 transition-colors duration-200;
    text-decoration-skip-ink: auto;
  }

  /* Form elements */
  input,
  textarea,
  select {
    @apply bg-charcoal-800 border border-charcoal-700 text-smoke-50 rounded-md;
    @apply focus:border-accent-400 focus:ring-1 focus:ring-accent-400;
  }

  /* Button base styles */
  button {
    @apply font-medium rounded-md transition-all duration-200;
  }
}

/* Component Layer */
@layer components {
  /* Button variants */
  .btn {
    @apply px-4 py-2 font-medium rounded-md transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  }

  .btn-primary {
    @apply bg-accent-400 text-charcoal-900 hover:bg-accent-300 hover:shadow-glow;
    @apply focus-visible:ring-accent-400 focus-visible:ring-offset-charcoal-900;
  }

  .btn-secondary {
    @apply bg-secondary-600 text-smoke-50 hover:bg-secondary-500;
    @apply focus-visible:ring-secondary-400 focus-visible:ring-offset-charcoal-900;
  }

  .btn-outline {
    @apply border border-smoke-700 text-smoke-300 hover:bg-smoke-800 hover:text-smoke-50;
    @apply focus-visible:ring-smoke-400 focus-visible:ring-offset-charcoal-900;
  }

  .btn-outline-light {
    @apply border border-smoke-300 text-smoke-100 hover:bg-smoke-200 hover:text-charcoal-900;
    @apply focus-visible:ring-smoke-200 focus-visible:ring-offset-primary-900;
  }

  .btn-ghost {
    @apply text-smoke-300 hover:bg-charcoal-800 hover:text-smoke-50;
    @apply focus-visible:ring-smoke-400 focus-visible:ring-offset-charcoal-900;
  }

  /* Badge variants */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply bg-primary-900 text-primary-100;
  }

  .badge-accent {
    @apply bg-accent-400 text-charcoal-900;
  }

  .badge-consent {
    @apply bg-green-900 text-green-100;
  }

  .badge-caution {
    @apply bg-yellow-900 text-yellow-100;
  }

  .badge-boundaries {
    @apply bg-red-900 text-red-100;
  }

  /* Card component */
  .card {
    @apply bg-charcoal-800 border border-charcoal-700 rounded-lg p-6 shadow-soft;
  }

  /* Modal backdrop */
  .modal-backdrop {
    @apply fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-40;
  }

  /* Modal content */
  .modal {
    @apply fixed inset-0 z-50 flex items-center justify-center p-4;
  }

  .modal-content {
    @apply bg-charcoal-800 border border-charcoal-700 rounded-lg shadow-medium max-w-2xl w-full max-h-[90vh] overflow-auto;
  }

  /* Form styling */
  .form-group {
    @apply space-y-2;
  }

  .form-label {
    @apply block text-sm font-medium text-smoke-200;
  }

  .form-input {
    @apply w-full px-3 py-2 text-base;
  }

  .form-textarea {
    @apply w-full px-3 py-2 text-base resize-vertical min-h-[100px];
  }

  .form-select {
    @apply w-full px-3 py-2 text-base;
  }

  .form-error {
    @apply text-boundaries text-sm mt-1;
  }

  .form-help {
    @apply text-smoke-400 text-sm mt-1;
  }

  /* Calendar styles */
  .calendar-grid {
    @apply grid grid-cols-7 gap-1;
  }

  .calendar-day {
    @apply aspect-square p-2 text-sm border border-charcoal-700 hover:bg-charcoal-700 transition-colors;
  }

  .calendar-day-selected {
    @apply bg-primary-900 text-primary-100;
  }

  .calendar-day-today {
    @apply bg-accent-400 text-charcoal-900;
  }

  .calendar-day-other-month {
    @apply text-smoke-500;
  }

  .calendar-event {
    @apply text-xs bg-primary-800 text-primary-100 px-1 rounded mt-1 truncate;
  }
}

/* Utility Layer */
@layer utilities {
  /* Accessibility utilities */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }

  .not-sr-only {
    @apply static w-auto h-auto p-0 m-0 overflow-visible whitespace-normal;
    clip: auto;
  }

  /* Animation utilities */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px);
    transition:
      opacity 0.6s ease-out,
      transform 0.6s ease-out;
  }

  .animate-on-scroll.in-view {
    opacity: 1;
    transform: translateY(0);
  }

  /* Gradient utilities */
  .gradient-spiral {
    background: var(--gradient-spiral);
  }

  /* Text utilities */
  .text-gradient {
    background: linear-gradient(
      135deg,
      var(--color-accent),
      var(--color-secondary)
    );
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
}
