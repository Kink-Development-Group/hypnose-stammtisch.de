# Environment Configuration for Hypnose Stammtisch Backend

# Database Configuration
DB_HOST=localhost
DB_PORT=3306
DB_NAME=hypnose_stammtisch
DB_USER=root
DB_PASS=

# Application Settings
APP_NAME=Hypnose Stammtisch
APP_ENV=development
APP_DEBUG=true
APP_URL=http://localhost:8000
FRONTEND_URL=http://localhost:5173

# Security Settings
JWT_SECRET=your-super-secret-jwt-key-here-change-in-production
CSRF_TOKEN_NAME=csrf_token
SESSION_LIFETIME=3600
SETUP_TOKEN=
INSTALL_TOKEN=

# CAPTCHA Settings (Cloudflare Turnstile, hCaptcha, or reCAPTCHA v3)
# Turnstile is recommended as it's privacy-friendly and free
# Get your keys at: https://dash.cloudflare.com/turnstile
CAPTCHA_ENABLED=false
CAPTCHA_PROVIDER=turnstile
CAPTCHA_SITE_KEY=
CAPTCHA_SECRET_KEY=

# Failed Login Protection Settings
MAX_FAILED_ATTEMPTS=5
TIME_WINDOW_SECONDS=900
IP_BAN_DURATION_SECONDS=3600
ACCOUNT_LOCK_DURATION_SECONDS=3600
HEAD_ADMIN_ROLE_NAME=head

# IP Validation and Proxy Settings
# Note: In development (APP_ENV=development/local/dev), private IPs are automatically allowed
# Set explicitly to override this behavior
ALLOW_PRIVATE_IPS=false
TRUSTED_PROXIES=

# Email Validation Settings
# Enable DNS MX record checking for email validation (may add slight latency)
ENABLE_EMAIL_DNS_CHECK=true
# Additional disposable email domains to block (comma-separated, extends default list)
# DISPOSABLE_EMAIL_DOMAINS=example.com,another-temp.org

# Audit Log Rate Limiting (prevents log spam during attacks)
AUDIT_UNTRUSTED_PROXY_MAX_LOGS=10
AUDIT_UNTRUSTED_PROXY_PERIOD=300

# Email Configuration (for contact forms and password reset)
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=info@hypnose-stammtisch.de
MAIL_FROM_NAME="Hypnose Stammtisch"
MAIL_SMTP_ENABLED=false

# Contact Form Recipients
CONTACT_GENERAL=info@hypnose-stammtisch.de
CONTACT_EVENTS=events@hypnose-stammtisch.de
CONTACT_CONDUCT=conduct@hypnose-stammtisch.de
CONTACT_SUPPORT=support@hypnose-stammtisch.de

# Calendar Settings
CALENDAR_TIMEZONE=Europe/Berlin
CALENDAR_FEED_TOKEN=your-secure-calendar-feed-token

# File Upload Settings
MAX_FILE_SIZE=10485760
UPLOAD_PATH=../uploads
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# CORS Settings
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:3000,https://hypnose-stammtisch.de
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin,Cache-Control,X-CSRF-Token

# Admin Default Credentials (Development Only - Change in Production!)
HEAD_ADMIN_EMAIL=admin@hypnose-stammtisch.de
HEAD_ADMIN_PASS=change-this-password-in-production
